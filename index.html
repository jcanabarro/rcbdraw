<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Computação Gráfica :: RCBDraw</title>

    <link rel="stylesheet" type="text/css" href="libs/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="libs/vue/bootstrap-vue.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<div id="rcb">
    <rcb-navbar></rcb-navbar>
    <open-modal></open-modal>
    <save-modal></save-modal>
    <regular-polygon-modal></regular-polygon-modal>
    <about-modal></about-modal>
    <panel ref="panel"></panel>
    <toolbar></toolbar>
</div>
<script type="text/javascript" src="libs/vue/vue.js"></script>
<script type="text/javascript" src="libs/tether/tether.min.js"></script>
<script type="text/javascript" src="libs/vue/bootstrap-vue.js"></script>
<script type="text/javascript" src="components/OpenModal.js"></script>
<script type="text/javascript" src="components/SaveModal.js"></script>
<script type="text/javascript" src="components/RegularPolygonModal.js"></script>
<script type="text/javascript" src="components/AboutModal.js"></script>
<script type="text/javascript" src="components/RcbNavbar.js"></script>
<script type="text/javascript" src="components/Panel.js"></script>
<script type="text/javascript" src="components/Toolbar.js"></script>
<script type="text/javascript" src="js/Colors.js"></script>
<script type="text/javascript" src="js/Vertex.js"></script>
<script type="text/javascript" src="js/Polygon.js"></script>
<script type="text/javascript" src="js/Scene.js"></script>
<script type="text/javascript" src="js/Interface.js"></script>
<script type="text/javascript">
    window.onload = function () {
        vue = new Vue({
            el: '#rcb'
        });
        panel = document.getElementById('drawpanel');
        drawInterface = new Interface(panel);
    };

    window.addEventListener('keyup', function(event) {
        if (event.keyCode === 27) {
            toggleReset();
        } else if (event.keyCode === 46) {
            drawInterface.deletePolygon();
        }
    }, false);

    function definePolygon (sides, size) {
        toggleReset();
        vue.$refs.panel.expectPolygon(sides, size);
    }

    function expectSelection () {
        toggleReset();
        vue.$refs.panel.expectSelection();
    }

    function expectFreehand () {
        toggleReset();
        vue.$refs.panel.expectFreehand()
    }

    function toggleReset() {
        vue.$refs.panel.reset();
    }

    function openRegularPolygonModal() {
        vue.$emit('show::modal','regular-polygon-modal');
    }
</script>
</body>
</html>